"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[6497],{15214:(e,a,r)=>{r.d(a,{D_:()=>P,G_:()=>A,W:()=>E,gz:()=>_,wk:()=>g});var t=r(28334),n=r(60200),d=r(46267),s=r(99842),l=r(55595),o=r(8011),c=r(29709),i=r(26185),h=r(54051),p=r(68767),m=r(76821),u=r(42628),I=r(90329),z=r(22538),T=r(79132),U=r(44802),k=r(63918),G=r(35552),S=r(51819),v=r(61336),b=r(86444);let y=l.D.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),E=e=>{switch(e){case"development":return l.D.matchX({HomepageHeader:(0,o.a9)(307171),SayThanksCardMobile:(0,o.a9)(237077),SayThanksCardTabletUp:(0,o.a9)(237076),TopicsInFeed:s.U3({Phone:257457,[b._]:237186}),ExploreInFeed:s.U3({Phone:257456,[b._]:247889}),SearchInFeed:s.U3({Phone:257455,[b._]:241347})});case"production":return l.D.matchX({HomepageHeader:(0,o.a9)(307172),SayThanksCardMobile:(0,o.a9)(219423),SayThanksCardTabletUp:(0,o.a9)(219424),TopicsInFeed:s.U3({Phone:257453,[b._]:237209}),ExploreInFeed:s.U3({Phone:257454,[b._]:247890}),SearchInFeed:s.U3({Phone:257452,[b._]:241348})})}},F=e=>{let{adEnv:a,adType:r,count:t,zoneId:d}=e;return{divName:y(r),zoneIds:z.of(d),count:t,networkId:(0,n.$w)(a),siteId:(0,n.NI)(a),adTypes:z.of(5),properties:{}}},x=e=>k.VF(a=>(0,o.zG)(m.of(d.q9),m.ap((0,o.zG)(e,F,z.of,m.of)),m.ap(m.tD((0,t.T)(a.shouldUseSecureCookies))))),_=e=>{let{adEnv:a,adType:r,count:t,zoneId:s}=e;return(0,o.zG)(x({adEnv:a,adType:r,count:t,zoneId:s}),G.XR,G.Zl(e=>(0,o.zG)(T.x0(d.HM)(n.el,{method:"POST",headers:{[i.wu]:c.zc.Json},body:d.D6.encode(e)}),G.QN)),S.ap,S.Zo,S.UI(e=>(0,o.zG)(e.decisions,p.P5(y(r)),U.tS(U.ij),U.UI(z.UI(e=>l.Ad.fromKevelAd({ad:z.YM(e.contents),decision:e}))))))},f=e=>h.tS(a=>(0,o.zG)(a,h.t9(d.Sy)(e),o.ge.match({onTrue:u.Vo(()=>(0,o.zG)(a,h.d1(a=>d.Sy.equals(a,e)))),onFalse:(0,o.a9)([])}))),g=(e,a)=>z.hX((0,o.ls)(e=>f(e.metadata.advertiserId)(a),h.EQ(o.NY.constTrue,(0,o.ls)(h.G(a=>(0,o.zG)(e,I.fP(d.Sy)(a))),o.ge.not)))),P=v.UI(U.tS(e=>(0,o.zG)(e.template,d.YS.match({"in-feed":a=>U.G(l.Ad.mkInFeedAd({...e,template:a})),[b._]:(0,o.a9)(U.YP)})))),w=d.YS.matchX({"kitchen-sink":!0,[b._]:!1}),C=d.YS.matchX({"in-feed":!0,[b._]:!1}),A=l.D.matchX({SayThanksCardMobile:w,SayThanksCardTabletUp:w,TopicsInFeed:C,HomepageHeader:(0,o.a9)(!0),ExploreInFeed:C,SearchInFeed:C})},34520:(e,a,r)=>{r.d(a,{W2:()=>M,Yo:()=>q,DU:()=>j});var t=r(24246),n=r(37444),d=r(52287),s=r(99816),l=r(92486),o=r(37350),c=r(64863),i=r(50127),h=r(46267),p=r(48306),m=r(17946);let u=(0,r(80406).P1)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var I=r(99842),z=r(55595),T=r(33731),U=r(49153),k=r(8011),G=r(78621),S=r(54051),v=r(70586),b=r(97492),y=r(22538),E=r(79132),F=r(72315),x=r(44802),_=r(63918),f=r(88461),g=r(61336),P=r(12003),w=r(33569),C=r(2584),A=r(15214);let D=e=>{switch(e){case"development":return[[h.zi(2260292),h.zi(2260293)]];case"production":return[[h.zi(2262847),h.zi(1890533)]]}},X=b.vU(e=>["InvalidTemplatesError",{invalidTemplates:(0,k.zG)(e,y.UI(h.gA))}]),j=e=>{let{adType:a,count:r}=e,t=(0,i.v)(u),n=(0,G.m)(e=>(0,k.zG)(e,C.UI(e=>{let[a]=e;return a})),[t]),d=(0,p.M)(),s=(0,m.Fy)();return(0,G.m)(e=>{let a=(0,k.zG)(e,C.UI(e=>e[0]),C.xb(z.D.Eq.equals)),t=(0,k.zG)(e,C.UI(e=>e[1]),C.xb(x.Eh(I.Eq).equals)),s=(0,k.zG)(F.gz((0,k.zG)(a,F.u5),t),F.UI(e=>{let[a,r]=e;return(0,A.W)(d.adEnv)(a)(r)}),C.xb(x.Eh(w.Eq).equals));return(0,k.zG)(F.gz((0,k.zG)(a,F.u5),s),C.Mm(n),C.UI(e=>{let[a,r]=e;return(0,k.zG)(a,x.UI(e=>{let[a,t]=e;return(0,P.bc)(a,t,r)}))}),F.pd(e=>{let[a,t,n]=e;return(0,k.zG)(C.PQ(()=>(0,k.zG)((0,A.gz)({adEnv:d.adEnv,adType:a,count:3*r,zoneId:t}),_.nn(d))),C.bw((0,k.ls)(g.eL((0,k.a9)(f.Xc),T.tB(E.mv),e=>(0,k.zG)(e,x.Tw([]),k.mJ.map(e=>e.template),S.d1((0,A.G_)(a)),y.nI,x.EQ(()=>f.Xc,T.tB(X)))),T.dq("KevelError"),T.lb({directAdType:z.D.Show.show(a)}),_.nn(T.Lp),v.f1)),C.UI(g.UI(x.tS((0,A.wk)(n,D(d.adEnv))))))}),C.UI(x.pF(()=>g.nn)))},[a,s])},q=e=>{let{adType:a,count:r,children:t}=e;return t((0,c.s)(j({adType:a,count:r})))},H=e=>{let{metadata:a}=e;return(0,t.jsxs)(U.PRT,{children:[(0,t.jsx)(s._,{url:a.impressionUrl}),(0,k.zG)(a.impressionTrackers,x.WA(S.Su((e,a)=>(0,t.jsx)(s._,{url:a},e))))]})},M=e=>{let{children:a,metadata:r,adType:s}=e,c=(0,l.I)();return(0,o.b)(()=>{c(n.aU.mk.DirectAdImpression({metadata:r,adType:s}))}),(0,t.jsxs)(U.PRT,{children:[a,(0,t.jsx)(d.Z,{children:(0,t.jsx)(H,{metadata:r})})]})}},79314:(e,a,r)=>{r.d(a,{$:()=>c});var t=r(24246),n=r(37444),d=r(76562),s=r(92486),l=r(49153),o=r(98165);let c=e=>{let{metadata:a,adType:r,...c}=e,i=(0,s.I)(),h=l.I47(()=>{i(n.aU.mk.Track(o.ju.mk.DirectAdClick({metadata:a,adType:r})))},[a,r]);return(0,t.jsx)(d.r,{onClick:h,href:a.clickUrl,...c})}},64863:(e,a,r)=>{r.d(a,{s:()=>d});var t=r(40196),n=r(61336);let d=e=>(0,t.p)(e,n.nn)},93793:(e,a,r)=>{r.d(a,{$:()=>c});var t=r(52700),n=r(49684),d=r(8011),s=r(76821),l=r(44802);let o=(0,d.zG)(n.V4,s.ht,l.Gg(e=>"force_direct_ads"in e)),c=()=>(0,t.US)()&&o}}]);