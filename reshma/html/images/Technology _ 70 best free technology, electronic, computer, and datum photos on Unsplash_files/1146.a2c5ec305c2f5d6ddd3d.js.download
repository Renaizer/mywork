"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[1146],{41146:(e,t,r)=>{r.d(t,{f:()=>S});var n=r(24246),l=r(85312),i=r(49153),a=r(8011),o=r(1458),s=r(54051),u=r(22538),z=r(72315),c=r(44802),f=r(46689),b=r(44779),d=r(75372),h=r(79807),G=r(14236),g=r(78621),I=r(79132),m=r(63918),p=r(2584);let x=e=>{let{notifier$:t,footerRefOption$:r}=e;return e=>{let n=(0,a.zG)(e,p.UI(e=>{let[t,r,n,l]=e;return{disableInfiniteScroll:t,feedDataFetcherParams:r,intersectionObserverRoot:n,intersectionObserverRootMarginBottom:l}})),l=(0,a.zG)(n,p.DZ(e=>{let{intersectionObserverRoot:t}=e;return t}),p.xb()),i=(0,a.zG)(n,p.UI(e=>{let{intersectionObserverRootMarginBottom:t}=e;return t??2e3}),p.xb()),o=(0,a.zG)(n,p.UI(e=>{let{feedDataFetcherParams:t}=e;return t.page}),p.xb()),s=(0,a.zG)(p.aj([r,l,i,o]),p.wt(e=>{let[t,r,n]=e;return(0,a.zG)(t,c.g_((0,a.a9)(p.E_),e=>(0,a.zG)(b.LO(e,{...void 0!==r?{root:r}:null,rootMargin:b.Ae({top:d.ez,right:d.ez,bottom:d.Ei(n),left:d.ez})}),p.hX(b.Yu))))})),u=(0,a.zG)(n,p.UI(e=>e.disableInfiniteScroll),p.xb());return(0,a.zG)(n,p.UP(p.TS((0,a.zG)(p.aj([s,u]),p.hX(e=>{let[t,r]=e;return!1===r})),t)))}},D=e=>t=>{let r=(0,a.zG)(t,p.UI(e=>{let[t,r,n,l]=e;return{hasFetchedAllPages:t,feedDataFetcherParams:r,feedDataFetcher:n,dependencies:l}})),n=(0,a.zG)(r,p.UP(e),p.EB(e=>{let{feedDataFetcherParams:t}=e;return t.page}),p.oE(e=>{let{hasFetchedAllPages:t}=e;return!1===t}));return(0,a.zG)(n,p.Mm(r,(e,t)=>t),p.zg(e=>{let{feedDataFetcherParams:t,feedDataFetcher:r,dependencies:n}=e;return(0,a.zG)(r(t),m.nn(n),I.UI(e=>{let[t]=e;return t}),I.XD(3))}))},U=e=>{let t=(0,G.Dj)(),r=(0,g.m)(x({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),n=[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t],l=(0,g.m)(D(r),n);(0,h.Rd)(l)},j=e=>{let{total:t,perPage:r}=e;return Math.ceil(t/r)},P=e=>e.lastPageFetched>=j(e),E=e=>{let{lastPageFetched:t,perPage:r}=e;return{page:t+1,perPage:r}},R=e=>{let{feedState:t,feedItems:r,renderItems:s,renderLoadingFooter:u,disableInfiniteScroll:c,...b}=e,[d,h]=(0,l.m)(e=>(0,a.zG)(e,z.DZ)),G=i.Yen(()=>E(t),[t]),g=i.Yen(()=>P(t),[t]);return U({...b,disableInfiniteScroll:c,feedDataFetcherParams:G,hasFetchedAllPages:g,footerRefOption$:h}),(0,n.jsxs)(i.ZCY,{children:[s({items:r,total:t.total}),(0,n.jsx)(i.ZCY,{...(0,f.Nn)(o.of),ref:d}),!1===g&&!1===c&&(t.isLoading??!0)&&u()]})},S=e=>{let{feedStateOption:t,feedItemsOption:r,renderEmpty:l,renderPlaceholder:o,renderFooter:z,disableInfiniteScroll:f,...b}=e;return(0,a.zG)(c.gz(t,r),c.EQ(o,e=>{let[t,r]=e,o=P(t),d=o||f||s.xb(r);return(0,n.jsxs)(i.PRT,{children:[(0,a.zG)(r,u.nI,c.g_(l,e=>(0,n.jsx)(R,{...b,feedState:t,feedItems:e,disableInfiniteScroll:f}))),d&&z({isEmpty:s.xb(r),hasFetchedAllPages:o,isInfiniteScrollDisabled:f})]})}))}}}]);